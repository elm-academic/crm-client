{"ast":null,"code":"var _jsxFileName = \"/home/meriem/lighthouse/Final_Project/project/client/src/components/ProjectList.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport ProjectItem from './ProjectItem';\nimport styled from 'styled-components';\nconst Wrapper = styled.div`\n  margin-top: 4em;\n  margin-left: 8em;\n  margin-right: 2em;\n  margin-bottom: 5em;\n`;\n\nconst ProjectList = () => {\n  //set default value of client to array\n  const [projects, setProjects] = useState([]);\n  useEffect(() => {\n    Promise.all([axios.get('/projects')]).then(all => {\n      setProjects(all[0].data);\n    });\n  }, []);\n\n  const getProjects = async () => {\n    const response = await axios.get(`/projects`);\n    console.log(\"console log of getProjects\", response);\n    setProjects(response.data);\n  };\n\n  const handleDelete = id => {\n    axios.delete(`/projects/${id}`).then(res => {\n      console.log(\"res\", res);\n\n      if (res.status !== 200) {\n        alert(\"Not able to delete project\");\n      } else {\n        getProjects();\n      }\n    });\n  };\n\n  const projects_list = projects.map(project => /*#__PURE__*/React.createElement(ProjectItem, {\n    key: project.id,\n    id: project.id,\n    name: project.name,\n    start_date: project.start_date,\n    end_date: project.end_date,\n    assigned_to: project.assigned_to,\n    type: project.type,\n    project_stage: project.project_stage,\n    payment_received: project.payment_received,\n    payment_date: project.payment_date,\n    onDelete: handleDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }));\n  return /*#__PURE__*/React.createElement(Wrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"display-7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, \"Projects\"), /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table table-striped\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, \"Number\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, \"Project Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, \"Start Date\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, \"End Date\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, \"Assigned To\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, \"Type\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, \"Project Stage\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, \"Payment Recevied\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, \"Payment Date\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, \"Actions\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    style: {\n      backgroundColor: \"#ecede3\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, projects_list)));\n};\n\nexport default ProjectList;","map":{"version":3,"sources":["/home/meriem/lighthouse/Final_Project/project/client/src/components/ProjectList.js"],"names":["React","useState","useEffect","axios","ProjectItem","styled","Wrapper","div","ProjectList","projects","setProjects","Promise","all","get","then","data","getProjects","response","console","log","handleDelete","id","delete","res","status","alert","projects_list","map","project","name","start_date","end_date","assigned_to","type","project_stage","payment_received","payment_date","backgroundColor"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,MAAMC,OAAO,GAAGD,MAAM,CAACE,GAAI;AAC3B;AACA;AACA;AACA;AACA,CALA;;AAOA,MAAMC,WAAW,GAAG,MAAM;AAExB;AAEA,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC,EAAD,CAAxC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACdS,IAAAA,OAAO,CAACC,GAAR,CAAY,CACVT,KAAK,CAACU,GAAN,CAAU,WAAV,CADU,CAAZ,EAEKC,IAFL,CAEWF,GAAD,IAAS;AACjBF,MAAAA,WAAW,CAACE,GAAG,CAAC,CAAD,CAAH,CAAOG,IAAR,CAAX;AACD,KAJD;AAKD,GANQ,EAMN,EANM,CAAT;;AAQA,QAAMC,WAAW,GAAG,YAAS;AAC3B,UAAMC,QAAQ,GAAG,MAAMd,KAAK,CAACU,GAAN,CAAW,WAAX,CAAvB;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ,EAA0CF,QAA1C;AACAP,IAAAA,WAAW,CAACO,QAAQ,CAACF,IAAV,CAAX;AACA,GAJF;;AAKA,QAAMK,YAAY,GAAGC,EAAD,IAAQ;AAE1BlB,IAAAA,KAAK,CAACmB,MAAN,CAAc,aAAYD,EAAG,EAA7B,EACCP,IADD,CACOS,GAAG,IAAG;AACXL,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBI,GAAnB;;AACA,UAAGA,GAAG,CAACC,MAAJ,KAAe,GAAlB,EAAuB;AACrBC,QAAAA,KAAK,CAAC,4BAAD,CAAL;AACD,OAFD,MAGK;AACHT,QAAAA,WAAW;AACZ;AACF,KATD;AAUD,GAZD;;AAaA,QAAMU,aAAa,GAAGjB,QAAQ,CAACkB,GAAT,CAAcC,OAAD,iBAEjC,oBAAC,WAAD;AACA,IAAA,GAAG,EAAIA,OAAO,CAACP,EADf;AAEA,IAAA,EAAE,EAAIO,OAAO,CAACP,EAFd;AAGA,IAAA,IAAI,EAAIO,OAAO,CAACC,IAHhB;AAIA,IAAA,UAAU,EAAID,OAAO,CAACE,UAJtB;AAKA,IAAA,QAAQ,EAAIF,OAAO,CAACG,QALpB;AAMA,IAAA,WAAW,EAAIH,OAAO,CAACI,WANvB;AAOA,IAAA,IAAI,EAAIJ,OAAO,CAACK,IAPhB;AAQA,IAAA,aAAa,EAAIL,OAAO,CAACM,aARzB;AASA,IAAA,gBAAgB,EAAIN,OAAO,CAACO,gBAT5B;AAUA,IAAA,YAAY,EAAIP,OAAO,CAACQ,YAVxB;AAWA,IAAA,QAAQ,EAAEhB,YAXV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFoB,CAAtB;AAkBA,sBACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAI,IAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADA,eAEA;AAAO,IAAA,SAAS,EAAC,qBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF,eAGE;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHF,eAIE;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJF,eAKE;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBALF,eAME;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YANF,eAOE;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAPF,eAQE;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBARF,eASE;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBATF,eAUE;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAVF,CADF,CADF,eAgBE;AAAO,IAAA,KAAK,EAAE;AAACiB,MAAAA,eAAe,EAAE;AAAlB,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGX,aADH,CAhBF,CAFA,CADF;AA0BD,CA5ED;;AA+EA,eAAelB,WAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport ProjectItem from './ProjectItem';\nimport styled from 'styled-components';\nconst Wrapper = styled.div`\n  margin-top: 4em;\n  margin-left: 8em;\n  margin-right: 2em;\n  margin-bottom: 5em;\n`;\n\nconst ProjectList = () => {\n\n  //set default value of client to array\n    \n  const [projects, setProjects] = useState([]);\n\n  useEffect(() => {\n    Promise.all([\n      axios.get('/projects'),\n      ]).then((all) => {\n      setProjects(all[0].data);\n    });\n  }, []);\n\n  const getProjects = async()=>{\n    const response = await axios.get(`/projects`);\n    console.log(\"console log of getProjects\", response); \n    setProjects(response.data);\n   }\n  const handleDelete =(id) => {\n  \n    axios.delete(`/projects/${id}`)\n    .then( res=> {\n      console.log(\"res\", res);\n      if(res.status !== 200) {\n        alert(\"Not able to delete project\");\n      }\n      else {\n        getProjects();\n      }\n    })\n  }\n  const projects_list = projects.map((project) =>\n    \n    <ProjectItem\n    key = {project.id}\n    id = {project.id}\n    name = {project.name}\n    start_date = {project.start_date}\n    end_date = {project.end_date}\n    assigned_to = {project.assigned_to}\n    type = {project.type}\n    project_stage = {project.project_stage}\n    payment_received = {project.payment_received}\n    payment_date = {project.payment_date}\n    onDelete={handleDelete}\n    />\n  )\n\n\n  return (\n    <Wrapper>\n    <h2 className=\"display-7\">Projects</h2>\n    <table className=\"table table-striped\">\n      <thead>\n        <tr>\n          <th scope=\"col\">Number</th>\n          <th scope=\"col\">Project Name</th>\n          <th scope=\"col\">Start Date</th>\n          <th scope=\"col\">End Date</th>\n          <th scope=\"col\">Assigned To</th>\n          <th scope=\"col\">Type</th>\n          <th scope=\"col\">Project Stage</th>\n          <th scope=\"col\">Payment Recevied</th>\n          <th scope=\"col\">Payment Date</th>\n          <th scope=\"col\">Actions</th>\n        </tr>\n      </thead>\n      \n      <tbody style={{backgroundColor: \"#ecede3\"}}>\n        {projects_list}\n      </tbody>\n    </table>\n    </Wrapper>\n  );\n\n}\n\n\nexport default ProjectList;"]},"metadata":{},"sourceType":"module"}